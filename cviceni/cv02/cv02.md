# 2. cvičení
nejjednodušší – program [xmllint](https://gnome.pages.gitlab.gnome.org/libxml2/xmllint.html)

### je správně strukturován? 
``` bash
xmllint --noout soubor.xml
```

### je validní? 
``` bash
xmllint --noout --valid soubor.xml 
```
- soubor musí obsahovat odkaz na DTD!

## úkoly:
1. úkol
- převeďte soubor group.txt do XML vyhovujícího DTD skupiny.dtd 
- zkontrolujte správnost výsledku

2. úkol
- vytvořte DTD pro soubor knihy.xml 
- zkontrolujte správnost

## řešení
1. úkol
``` bash
sed 's/\([a-z]*\):x:\([0-9]*\):\([a-z]*\),\([a-z]*\),\([a-z]*\)/<osoba id="\1">\n\t <jmeno>\1<\/jmeno>\n\t <uzivatel>\3<\/uzivatel>\n\t <uzivatel>\4<\/uzivatel>\n\t <uzivatel>\5<\/uzivatel>\n<\/osoba>/' group.txt > group.xml
```
Je potřeba soubor doplnit ručně o položky které sed nevzládne naparsovat. Také o odkaz na DTD:

``` xml
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE seznam SYSTEM  "skupiny.dtd">
```

``` bash
xmllint --noout --valid group.xml
```

2. úkol

``` xml
<?xml version="1.0" encoding="UTF-8"?>

<!ELEMENT knihovna (kniha*)>

<!ELEMENT kniha (autor*, nazev, vydavatel?, rok?)>

<!ATTLIST kniha isbn CDATA #REQUIRED>
<!ATTLIST autor hlavni CDATA #IMPLIED>
<!ELEMENT autor (#PCDATA)>
<!ELEMENT nazev (#PCDATA)>
<!ELEMENT vydavatel (#PCDATA)>
<!ELEMENT rok (#PCDATA)>
```

``` bash
xmllint --noout --valid knihy.xml
```
